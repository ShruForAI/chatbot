from flask import Flask, render_template, request, jsonify
import numpy as np
from tensorflow.keras.models import load_model
from tensorflow.keras.preprocessing.sequence import pad_sequences
import re

# Initialize Flask app
app = Flask(__name__)

# Load the pre-trained chatbot model
chatbot_model = load_model('chatbot_model_2.h5')

# Given inverse_vocab (which you already have)
inverse_vocab = {
    0: '<PAD>', 1: 'there', 2: 'sure', 3: 'have', 4: 'she', 5: 'is', 6: 'not', 7: 'a', 8: 'hi', 9: 'i', 10: 'was', 11: 'well', 12: 'no', 13: 'but', 14: 'what', 15: 'crap', 16: 'wow', 17: 'okay', 18: 'they', 19: 'do', 20: 'to', 21: 'who', 22: 'great', 23: 'its', 24: 'more', 25: 'queen', 26: 'harry', 27: 'neat', 28: 'joey', 29: 'normal', 30: 'like', 31: 'you', 32: 'care', 33: 'did', 34: 'that', 35: 'let', 36: 'go', 37: 'set', 38: 'me', 39: 'up', 40: 'daddy', 41: 'never', 42: 'get', 43: 'out', 44: 'he', 45: 'pretty', 46: 'kissed', 47: 'where', 48: 'ya', 49: 'goin', 50: 'away', 51: 'yeah', 52: 'just', 53: 'said', 54: 'am', 55: 'on', 56: 'it', 57: 'forget', 58: 'hey', 59: 'are', 60: 'lost', 61: 'we', 62: 'dont', 63: 'chat', 64: 'whos', 65: 'this', 66: 'would', 67: 'say', 68: 'didnt', 69: 'excuse', 70: 'told', 71: 'hate', 72: 'him', 73: 'wake', 74: 'busy', 75: 'maybe', 76: 'start', 77: 'band', 78: 'bianca', 79: 'so', 80: 'good', 81: 'call', 82: 'yes', 83: 'how', 84: 'for', 85: 'state', 86: 'the', 87: 'duck', 88: 'tell', 89: 'oh', 90: 'huh', 91: 'wait', 92: 'right', 93: 'know', 94: 'parts', 95: 'of', 96: 'which', 97: 'when', 98: 'think', 99: 'plan', 100: 'missed', 101: 'father', 102: 'chief', 103: 'knows', 104: 'says', 105: 'long', 106: 'thank', 107: 'bloody', 108: 'then', 109: 'way', 110: 'divorced', 111: 'cop', 112: 'end', 113: 'my', 114: 'career', 115: 'vodka', 116: 'takin', 117: 'bath', 118: 'any', 119: 'id', 120: 'hit', 121: 'wrong', 122: 'describe', 123: 'hmmmm', 124: 'polish', 125: 'folks', 126: 'two', 127: 'heads', 128: 'thirsty', 129: 'duty', 130: 'course', 131: 'alright', 132: 'honey', 133: 'stop', 134: 'answer', 135: 'promise', 136: 'tonight', 137: 'ready', 138: 'weeks', 139: 'speak', 140: 'english', 141: 'shut', 142: 'sit', 143: 'down', 144: 'serious', 145: 'credit', 146: 'got', 147: 'spent', 148: 'ha', 149: 'job', 150: 'as', 151: 'robert', 152: 'new', 153: 'york', 154: 'cheap', 155: 'hotel', 156: 'ahead', 157: 'will', 158: 'take', 159: 'clean', 160: 'your', 161: 'doctor', 162: 'continued', 163: 'really', 164: 'possible', 165: 'hal', 166: 'guess', 167: 'certainly', 168: 'see', 169: 'true', 170: 'understand', 171: 'roger', 172: 'name', 173: 'pay', 174: 'money', 175: 'candy', 176: 'hello', 177: 'again', 178: 'about', 179: 'chance', 180: 'ganz', 181: 'crazy', 182: 'bullshit', 183: 'last', 184: 'night', 185: 'lets', 186: 'much', 187: 'class', 188: 'thanks', 189: 'jack', 190: 'billy', 191: 'bear', 192: 'all', 193: 'wet', 194: 'later', 195: 'hiya', 196: 'kid', 197: 'real', 198: 'whaddya', 199: 'stall', 200: 'keep', 201: 'doin', 202: 'her', 203: 'five', 204: 'give', 205: 'back', 206: 'noticed', 207: 'luck', 208: 'and', 209: 'look', 210: 'priest', 211: 'ma', 212: 'sorry', 213: 'seconds', 214: 'mission', 215: 'going', 216: 'shit', 217: 'wife', 218: 'hear', 219: 'love', 220: 'finished', 221: 'one', 222: 'uh', 223: 'exactly', 224: 'cash', 225: 'man', 226: 'or', 227: 'act', 228: 'drink', 229: 'sir', 230: 'welcome', 231: 'home', 232: 'gun', 233: 'tom', 234: 'could', 235: 'machine', 236: 'machines', 237: 'in', 238: 'excellent', 239: 'eddie', 240: 'enjoy', 241: 'moving', 242: 'talking', 243: 'listening', 244: 'sort', 245: 'lying', 246: 'pardon', 247: 'remember', 248: 'max', 249: 'quite', 250: 'twentyfive', 251: 'daughter', 252: 'wha', 253: 'next', 254: 'odd', 255: 'pittsburgh', 256: 'joking', 257: 'here', 258: 'bad', 259: 'rick', 260: 'please', 261: 'freddy', 262: 'mommy', 263: 'beautiful', 264: 'tickets', 265: 'dad', 266: 'very', 267: 'funny', 268: 'alice', 269: 'jacob', 270: 'baby', 271: 'poor', 272: 'woman', 273: 'mark', 274: 'too', 275: 'us', 276: 'dave', 277: 'wonderful', 278: 'anything', 279: 'with', 280: 'swell', 281: 'obviously', 282: 'soon', 283: 'spring', 284: 'bought', 285: 'if', 286: 'mmm', 287: 'hmm', 288: 'happened', 289: 'chest', 290: 'blood', 291: 'saw', 292: 'break', 293: 'stuff', 294: 'stupid', 295: 'fun', 296: 'jesus', 297: 'pop', 298: 'nothing', 299: 'fuck', 300: 'want', 301: 'buy', 302: 'be', 303: 'key', 304: 'wade', 305: 'lots', 306: 'gordon', 307: 'while', 308: 'strange', 309: 'nuts', 310: 'can', 311: 'hold', 312: 'other', 313: 'guy', 314: 'sleeping', 315: 'bang', 316: 'mom', 317: 'dear', 318: 'cut', 319: 'dead', 320: 'nine', 321: 'stand', 322: 'by', 323: 'war', 324: 'four', 325: 'jim', 326: 'open', 327: 'elaine', 328: 'ted', 329: 'mean', 330: 'now', 331: 'simon', 332: 'negative', 333: 'captain', 334: 'both', 335: 'rain', 336: 'randy', 337: 'matthew', 338: 'screw', 339: 'health', 340: 'car', 341: 'george', 342: 'human', 343: 'movement', 344: 'position', 345: 'time', 346: 'amy', 347: 'hicks', 348: 'alive', 349: 'save', 350: 'many', 351: 'locked', 352: 'ellen', 353: 'terrible', 354: 'gone', 355: 'dream', 356: 'indeed', 357: 'morning', 358: 'marriage', 359: 'bother', 360: 'hardly', 361: 'eat', 362: 'ask', 363: 'mozart', 364: 'alone', 365: 'at', 366: 'hand', 367: 'careful', 368: 'upstairs', 369: 'play', 370: 'year', 371: 'may', 372: 'try', 373: 'pleasure', 374: 'sire', 375: 'majesty', 376: 'german', 377: 'twentysix', 378: 'secret', 379: 'working', 380: 'opera', 381: 'animals', 382: 'put', 383: 'madame', 384: 'ah', 385: 'herr', 386: 'italian', 387: 'work', 388: 'ill', 389: 'finish', 390: 'fire', 391: 'fast', 392: 'incredible', 393: 'dr', 394: 'hirsch', 395: 'else', 396: 'david', 397: 'wolf', 398: 'mr', 399: 'alex', 400: 'kitchen', 401: 'closet', 402: 'charming', 403: 'bathroom', 404: 'lovely', 405: 'bedroom', 406: 'zoo', 407: 'looked', 408: 'miss', 409: 'price', 410: 'lunatic', 411: 'cold', 412: 'jerk', 413: 'them', 414: 'heard', 415: 'bill', 416: 'lot', 417: 'nurse', 418: 'hot', 419: 'chocolate', 420: 'kidding', 421: 'matt', 422: 'has', 423: 'charlie', 424: 'whose', 425: 'death', 426: 'line', 427: 'apartment', 428: 'theatre', 429: 'ho', 430: 'happy', 431: 'longer', 432: 'helen', 433: 'letter', 434: 'havent', 435: 'mine', 436: 'safe', 437: 'absolutely', 438: 'afraid', 439: 'dude', 440: 'everybody', 441: 'swear', 442: 'yesterday', 443: 'nope', 444: 'damn', 445: 'beg', 446: 'perfect', 447: 'cole', 448: 'cousin', 449: 'yep', 450: 'idea', 451: 'dammit', 452: 'jesse', 453: 'st', 454: 'louis', 455: 'boys', 456: 'mmhmm', 457: 'such', 458: 'figure', 459: 'hell', 460: 'upset', 461: 'drunk', 462: 'jimmy', 463: 'uncle', 464: 'frank', 465: 'little', 466: 'ones', 467: 'neither', 468: 'law', 469: 'maam', 470: 'figured', 471: 'parker', 472: 'won', 473: 'pumpkin', 474: 'nice', 475: 'eight', 476: 'pick', 477: 'straight', 478: 'pull', 479: 'off', 480: 'patrick', 481: 'evelyn', 482: 'darling', 483: 'rich', 484: 'leaving', 485: 'dorsia', 486: 'late', 487: 'after', 488: 'six', 489: 'jean', 490: 'bite', 491: 'interesting', 492: 'saturday', 493: 'paul', 494: 'coffee', 495: 'kimball', 496: 'shoot', 497: 'address', 498: 'actually', 499: 'hmmm', 500: 'don', 501: 'hungry', 502: 'al', 503: 'over', 504: 'make', 505: 'guilt', 506: 'milo', 507: 'goodness', 508: 'tried', 509: 'cool', 510: 'gary', 511: 'worse', 512: 'looking', 513: 'come', 514: 'lisa', 515: 'were', 516: 'whys', 517: 'god', 518: 'teddy', 519: 'basil', 520: 'lay', 521: 'kiss', 522: 'son', 523: 'evil', 524: 'sea', 525: 'an', 526: 'due', 527: 'blow', 528: 'hows', 529: 'austin', 530: 'asleep', 531: 'seriously', 532: 'bottle', 533: 'red', 534: 'knight', 535: 'black', 536: 'flower', 537: 'nature', 538: 'hope', 539: 'fear', 540: 'met', 541: 'people', 542: 'mad', 543: 'choices', 544: 'better', 545: 'earth', 546: 'ideas', 547: 'barely', 548: 'orders', 549: 'kill', 550: 'trouble', 551: 'lied', 552: 'first', 553: 'mrs', 554: 'peel', 555: 'kept', 556: 'our', 557: 'amnesia', 558: 'insane', 559: 'john', 560: 'debbie', 561: 'best', 562: 'shot', 563: 'sleep', 564: 'pimp', 565: 'women', 566: 'feel', 567: 'free', 568: 'asked', 569: 'works', 570: 'roll', 571: 'brian', 572: 'jennifer', 573: 'shhh', 574: 'glass', 575: 'read', 576: 'reason', 577: 'months', 578: 'big', 579: 'fan', 580: 'boat', 581: 'sucked', 582: 'sean', 583: 'burn', 584: 'cause', 585: 'inspector', 586: 'nah', 587: 'forgive', 588: 'large', 589: 'case', 590: 'sister', 591: 'trying', 592: 'some', 593: 'meaning', 594: 'offense', 595: 'shoes', 596: 'different', 597: 'sound', 598: 'word', 599: 'manray', 600: 'same', 601: 'gift', 602: 'light', 603: 'fine', 604: 'hates', 605: 'around', 606: 'dat', 607: 'yknow', 608: 'aw', 609: 'cmon', 610: 'certain', 611: 'even', 612: 'agreed', 613: 'only', 614: 'dark', 615: 'apologize', 616: 'business', 617: 'christ', 618: 'move', 619: 'baseball', 620: 'watch', 621: 'bit', 622: 'west', 623: 'fifty', 624: 'minutes', 625: 'brought', 626: 'eighteen', 627: 'lucky', 628: 'girl', 629: 'knew', 630: 'karl', 631: 'river', 632: 'awake', 633: 'leave', 634: 'bank', 635: 'world', 636: 'sometimes', 637: 'goodbye', 638: 'whatever', 639: 'hurt', 640: 'angela', 641: 'church', 642: 'holy', 643: 'days', 644: 'uhuh', 645: 'another', 646: 'myself', 647: 'uhhuh', 648: 'naw', 649: 'yessir', 650: 'backup', 651: 'rid', 652: 'party', 653: 'short', 654: 'shift', 655: 'nick', 656: 'enough', 657: 'men', 658: 'lose', 659: 'drinks', 660: 'trust', 661: 'these', 662: 'number', 663: 'three', 664: 'eh', 665: 'old', 666: 'lewis', 667: 'shows', 668: 'does', 669: 'bet', 670: 'imagine', 671: 'ten', 672: 'years', 673: 'desert', 674: 'thing', 675: 'left', 676: 'whatcha', 677: 'twenty', 678: 'bravo', 679: 'office', 680: 'far', 681: 'perry', 682: 'doing', 683: 'fair', 684: 'house', 685: 'eve', 686: 'adam', 687: 'sing', 688: 'card', 689: 'lucy', 690: 'small', 691: 'bye', 692: 'thirtyfive', 693: 'sky', 694: 'help', 695: 'east', 696: 'locks', 697: 'calvin', 698: 'smart', 699: 'um', 700: 'those', 701: 'bed', 702: 'gay', 703: 'jeffrey', 704: 'yet', 705: 'nobody', 706: 'falling', 707: 'dorothy', 708: 'bull', 709: 'mommys', 710: 'ride', 711: 'heres', 712: 'ben', 713: 'brilliant', 714: 'ok', 715: 'goodnight', 716: 'sandy', 717: 'mike', 718: 'mother', 719: 'guys', 720: 'aye', 721: 'nervous', 722: 'bodies', 723: 'rule', 724: 'fat', 725: 'witness', 726: 'believe', 727: 'nigger', 728: 'dollars', 729: 'shh', 730: 'needed', 731: 'dignan', 732: 'person', 733: 'bob', 734: 'future', 735: 'anthony', 736: 'sixty', 737: 'dies', 738: 'y', 739: 'silk', 740: 'fag', 741: 'paid', 742: 'weed', 743: 'everything', 744: 'pool', 745: 'henry', 746: 'treadstone', 747: 'liar', 748: 'conklin', 749: 'keys', 750: 'drive', 751: 'russian', 752: 'lie', 753: 'show', 754: 'still', 755: 'believed', 756: 'fresh', 757: 'peace', 758: 'rest', 759: 'william', 760: 'armed', 761: 'win', 762: 'scare', 763: 'dreaming', 764: 'fix', 765: 'books', 766: 'ouch', 767: 'evan', 768: 'destroy', 769: 'cancer', 770: 'monsieur', 771: 'suppose', 772: 'laszlo', 773: 'sam', 774: 'evening', 775: 'victor', 776: 'his', 777: 'escape', 778: 'friend', 779: 'piano', 780: 'boss', 781: 'water', 782: 'sonofabitch', 783: 'chuck', 784: 'married', 785: 'touched', 786: 'wilson', 787: 'life', 788: 'rose', 789: 'cares', 790: 'view', 791: 'tough', 792: 'day', 793: 'mob', 794: 'whoa', 795: 'jake', 796: 'calls', 797: 'stake', 798: 'lighten', 799: 'mess', 800: 'miles', 801: 'suits', 802: 'percent', 803: 'tip', 804: 'special', 805: 'agent', 806: 'mind', 807: 'sell', 808: 'high', 809: 'scared', 810: 'lady', 811: 'entirely', 812: 'probably', 813: 'found', 814: 'casino', 815: 'ross', 816: 'girls', 817: 'rough', 818: 'ever', 819: 'girlfriend', 820: 'bomb', 821: 'doolittle', 822: 'second', 823: 'fred', 824: 'wire', 825: 'grand', 826: 'creep', 827: 'something', 828: 'bent', 829: 'none', 830: 'pencil', 831: 'gotta', 832: 'dogs', 833: 'talk', 834: 'lydia', 835: 'toy', 836: 'easy', 837: 'sick', 838: 'change', 839: 'gin', 840: 'ii', 841: 'problem', 842: 'slow', 843: 'ann', 844: 'sunday', 845: 'stolen', 846: 'ahh', 847: 'donnie', 848: 'soap', 849: 'weird', 850: 'grandma', 851: 'door', 852: 'regret', 853: 'exists', 854: 'airport', 855: 'yah', 856: 'ow', 857: 'robbed', 858: 'mirror', 859: 'wisconsin', 860: 'bitch', 861: 'lester', 862: 'harold', 863: '50', 864: 'worm', 865: 'once', 866: 'er', 867: 'merrick', 868: 'hospital', 869: 'ohhh', 870: 'rape', 871: 'scream', 872: 'louder', 873: 'faster', 874: 'magic', 875: 'row', 876: 'hasnt', 877: 'lord', 878: 'hurry', 879: 'relax', 880: 'rat', 881: 'room', 882: 'joel', 883: 'tomorrow', 884: 'yo', 885: 'female', 886: 'sexy', 887: 'yours', 888: 'definitely', 889: 'kay', 890: 'yup', 891: 'stopped', 892: 'coming', 893: 'mary', 894: 'howard', 895: 'north', 896: 'tired', 897: 'ranch', 898: 'justin', 899: 'from', 900: 'pressure', 901: 'weir', 902: 'skipper', 903: 'worked', 904: 'date', 905: 'explanation', 906: 'eyes', 907: 'tastes', 908: 'claire', 909: 'almost', 910: 'reed', 911: 'times', 912: 'sue', 913: 'sweet', 914: 'driving', 915: 'front', 916: 'page', 917: 'science', 918: 'totally', 919: 'brad', 920: 'problems', 921: 'suit', 922: 'doug', 923: 'sometime', 924: 'killed', 925: 'naked', 926: 'major', 927: 'vegas', 928: 'tape', 929: 'cops', 930: 'plans', 931: 'realize', 932: 'spare', 933: 'clear', 934: 'husband', 935: 'fully', 936: 'covered', 937: 'holds', 938: 'seven', 939: 'clothes', 940: 'frances', 941: 'fired', 942: 'without', 943: 'dick', 944: 'bread', 945: 'kurt', 946: 'age', 947: 'fifteen', 948: 'quietly', 949: 'live', 950: 'mama', 951: 'choice', 952: 'professor', 953: 'few', 954: 'week', 955: 'place', 956: 'friday', 957: 'point', 958: 'along', 959: 'had', 960: 'cowboy', 961: 'heaven', 962: 'die', 963: 'wreck', 964: 'mccoy', 965: 'quit', 966: 'pass', 967: 'mexico', 968: 'creepy', 969: 'daddys', 970: 'gotcha', 971: 'feels', 972: 'sight', 973: 'richard', 974: 'smoke', 975: 'california', 976: 'changed', 977: 'dump', 978: 'jordan', 979: 'fucked', 980: 'subject', 981: 'sucks', 982: 'wish', 983: 'bucks', 984: 'raymond', 985: 'commander', 986: 'suicide', 987: 'e', 988: 'jason', 989: 'unbelievable', 990: 'explain', 991: 'pretend', 992: 'find', 993: 'general', 994: 'makes', 995: 'gag', 996: 'today', 997: 'theres', 998: 'karen', 999: 'ray', 1000: 'leo', 1001: 'movie', 1002: 'died', 1003: 'personally', 1004: 'broke', 1005: 'sounds', 1006: 'n', 1007: 'hm', 1008: 'pounds', 1009: 'fucker', 1010: 'wednesday', 1011: 'dodge', 1012: 'hard', 1013: 'went', 1014: 'aboard', 1015: 'radio', 1016: 'lights', 1017: 'gold', 1018: 'land', 1019: 'maxine', 1020: 'uhoh', 1021: 'josh', 1022: 'loser', 1023: 'gross', 1024: 'always', 1025: 'rules', 1026: 'worry', 1027: 'dunno', 1028: 'seymour', 1029: 'hundred', 1030: 'iii', 1031: 'agree', 1032: 'slut', 1033: 'starling', 1034: 'goddammit', 1035: 'nonsense', 1036: 'news', 1037: 'peter', 1038: 'should', 1039: 'command', 1040: 'fault', 1041: 'pure', 1042: 'wonder', 1043: 'star', 1044: 'oclock', 1045: 'print', 1046: 'square', 1047: 'buddy', 1048: 'caesar', 1049: 'deal', 1050: 'minute', 1051: 'benjamin', 1052: 'family', 1053: 'cry', 1054: 'comes', 1055: 'belt', 1056: 'might', 1057: 'carl', 1058: 'shhhh', 1059: 'student', 1060: 'robinson', 1061: 'arent', 1062: 'art', 1063: 'walk', 1064: 'college', 1065: 'kind', 1066: 'curious', 1067: 'drop', 1068: 'worried', 1069: 'turn', 1070: 'em', 1071: 'need', 1072: 'dancing', 1073: 'fool', 1074: 'dance', 1075: 'chasing', 1076: 'bless', 1077: 'train', 1078: 'till', 1079: 'quiet', 1080: 'letters', 1081: 'moreover', 1082: 'movies', 1083: 'baron', 1084: 'bobo', 1085: 'roy', 1086: 'mm', 1087: 'retired', 1088: 'carter', 1089: 'detective', 1090: 'body', 1091: 'stole', 1092: 'pee', 1093: 'fuckin', 1094: 'busted', 1095: 'linda', 1096: 'tim', 1097: 'halloween', 1098: 'boy', 1099: 'least', 1100: 'penelope', 1101: 'blue', 1102: 'insurance', 1103: 'africa', 1104: 'gee', 1105: 'anybody', 1106: 'england', 1107: 'sting', 1108: 'engaged', 1109: 'disease', 1110: 'situation', 1111: 'breakfast', 1112: 'dozen', 1113: 'cried', 1114: 'things', 1115: 'rifle', 1116: 'child', 1117: 'load', 1118: 'correct', 1119: 'king', 1120: 'arthur', 1121: 'horrible', 1122: 'sad', 1123: 'isnt', 1124: 'glad', 1125: 'park', 1126: 'possibly', 1127: 'offer', 1128: 'niki', 1129: 'joanne', 1130: 'rate', 1131: 'less', 1132: 'andy', 1133: 'van', 1134: 'made', 1135: 'took', 1136: 'tree', 1137: 'check', 1138: 'maude', 1139: 'whom', 1140: 'funeral', 1141: 'julia', 1142: 'done', 1143: 'dreams', 1144: 'steve', 1145: 'voice', 1146: 'myers', 1147: 'strong', 1148: 'bastard', 1149: 'somebody', 1150: 'hurting', 1151: 'box', 1152: 'kirsty', 1153: 'argument', 1154: 'larry', 1155: 'deep', 1156: 'soda', 1157: 'plain', 1158: 'depends', 1159: 'through', 1160: 'surprise', 1161: 'barry', 1162: 'suck', 1163: 'ass', 1164: 'anna', 1165: 'moss', 1166: 'rob', 1167: 'weekend', 1168: 'pig', 1169: 'laura', 1170: 'harder', 1171: 'liz', 1172: 'seventyfive', 1173: 'vince', 1174: 'grave', 1175: 'tradition', 1176: 'murder', 1177: 'afternoon', 1178: 'arm', 1179: 'hurts', 1180: 'cow', 1181: 'doubt', 1182: 'must', 1183: 'came', 1184: 'chair', 1185: 'sorts', 1186: 'run', 1187: 'doesnt', 1188: 'mystery', 1189: 'hildy', 1190: 'allow', 1191: 'bruce', 1192: 'flip', 1193: 'walter', 1194: 'chase', 1195: 'sod', 1196: 'naturally', 1197: 'joined', 1198: 'moved', 1199: 'goddamn', 1200: 'plates', 1201: 'match', 1202: 'gabrielle', 1203: 'french', 1204: 'oui', 1205: 'sleepy', 1206: 'lila', 1207: 'progress', 1208: 'cream', 1209: 'deer', 1210: 'extra', 1211: 'mister', 1212: 'character', 1213: 'thousand', 1214: 'sign', 1215: 'bout', 1216: 'wanna', 1217: 'half', 1218: 'bus', 1219: 'grow', 1220: 'bert', 1221: 'inside', 1222: 'humans', 1223: 'emma', 1224: 'surrender', 1225: 'virginia', 1226: 'gas', 1227: 'school', 1228: 'thinking', 1229: 'loose', 1230: 'angel', 1231: 'president', 1232: 'worlds', 1233: 'treat', 1234: 'venice', 1235: 'italy', 1236: 'jones', 1237: 'bingo', 1238: 'rats', 1239: 'landing', 1240: 'indy', 1241: 'india', 1242: 'pet', 1243: 'willie', 1244: 'figures', 1245: 'wasnt', 1246: 'street', 1247: 'anyone', 1248: 'behind', 1249: 'joe', 1250: 'doors', 1251: 'corridor', 1252: 'illegal', 1253: 'beach', 1254: 'eating', 1255: 'swim', 1256: 'sand', 1257: 'touch', 1258: 'rene', 1259: 'glasses', 1260: 'follow', 1261: 'dieter', 1262: 'impossible', 1263: 'memory', 1264: 'blake', 1265: 'chip', 1266: 'tear', 1267: 'apart', 1268: 'hours', 1269: 'monday', 1270: 'push', 1271: 'lowell', 1272: 'sauce', 1273: 'calling', 1274: 'jeff', 1275: 'object', 1276: 'jail', 1277: 'part', 1278: 'asian', 1279: 'kids', 1280: 'marylin', 1281: 'friends', 1282: 'rex', 1283: 'massey', 1284: 'every', 1285: 'video', 1286: 'wrigley', 1287: 'sweetie', 1288: 'reward', 1289: 'south', 1290: 'america', 1291: 'ellie', 1292: 'stunt', 1293: 'road', 1294: 'ridiculous', 1295: 'others', 1296: 'driver', 1297: 'ticket', 1298: 'beat', 1299: 'outside', 1300: 'santa', 1301: 'detectives', 1302: 'silly', 1303: 'raw', 1304: 'clever', 1305: 'amazing', 1306: 'collect', 1307: 'listen', 1308: 'git', 1309: 'oswald', 1310: 'post', 1311: 'garrison', 1312: 'yourself', 1313: 'called', 1314: 'bigger', 1315: 'dress', 1316: 'wants', 1317: 'sells', 1318: 'guns', 1319: 'meet', 1320: 'beer', 1321: 'kinda', 1322: 'jackie', 1323: 'melanie', 1324: 'ago', 1325: 'robbery', 1326: 'low', 1327: 'getting', 1328: 'comfortable', 1329: 'town', 1330: 'terrific', 1331: 'used', 1332: 'sarah', 1333: 'freezing', 1334: 'lemme', 1335: 'singer', 1336: 'speaking', 1337: 'nothin', 1338: 'army', 1339: 'bring', 1340: 'pour', 1341: 'top', 1342: 'minimal', 1343: 'sergeant', 1344: 'everyone', 1345: 'outta', 1346: 'screwed', 1347: '14', 1348: 'soldiers', 1349: 'ate', 1350: 'junior', 1351: 'wrote', 1352: 'feet', 1353: 'cute', 1354: 'adele', 1355: 'turkey', 1356: 'mostly', 1357: 'tight', 1358: 'fit', 1359: 'carrie', 1360: 'telly', 1361: 'b', 1362: 'sup', 1363: 'bleed', 1364: 'passion', 1365: 'morpheus', 1366: 'positive', 1367: 'local', 1368: 'scars', 1369: 'prints', 1370: 'kathy', 1371: 'building', 1372: 'uwhatu', 1373: 'rope', 1374: 'fame', 1375: 'join', 1376: 'taken', 1377: 'twice', 1378: 'store', 1379: 'jumped', 1380: 'walking', 1381: 'noooo', 1382: 'orange', 1383: 'color', 1384: 'loved', 1385: 'power', 1386: 'pink', 1387: 'protection', 1388: 'ring', 1389: 'weapon', 1390: 'promised', 1391: 'unicorn', 1392: 'truth', 1393: 'courage', 1394: 'freak', 1395: 'stevens', 1396: 'forty', 1397: 'bugs', 1398: 'sun', 1399: 'garage', 1400: 'been', 1401: 'eaten', 1402: 'dog', 1403: 'queer', 1404: 'sharp', 1405: 'claude', 1406: 'banks', 1407: 'oooh', 1408: 'soft', 1409: 'aint', 1410: 'jenny', 1411: 'appreciate', 1412: 'understood', 1413: 'nicky', 1414: 'knock', 1415: 'own', 1416: 'face', 1417: 'jessica', 1418: 'k', 1419: 'ours', 1420: 'pete', 1421: 'liked', 1422: 'sheila', 1423: 'headache', 1424: 'head', 1425: 'eddy', 1426: 'brother', 1427: 'police', 1428: 'often', 1429: 'spot', 1430: 'porters', 1431: 'saying', 1432: 'thirty', 1433: 'perhaps', 1434: 'wear', 1435: 'bug', 1436: 'noon', 1437: 'wally', 1438: 'grew', 1439: 'type', 1440: 'mall', 1441: 'ball', 1442: 'wanted', 1443: 'heal', 1444: 'bobby', 1445: 'draw', 1446: 'brooklyn', 1447: 'ricky', 1448: 'heart', 1449: 'coach', 1450: 'eighty', 1451: 'calm', 1452: 'giant', 1453: 'strapped', 1454: 'coke', 1455: 'scotland', 1456: 'solid', 1457: 'elijah', 1458: 'con', 1459: 'earl', 1460: '500', 1461: 'bright', 1462: 'si', 1463: 'daniel', 1464: 'loaded', 1465: 'creasy', 1466: 'pinta', 1467: 'planned', 1468: 'likes', 1469: 'early', 1470: 'happen', 1471: 'marty', 1472: 'ugly', 1473: 'nurses', 1474: 'thomas', 1475: 'tommy', 1476: 'o', 1477: 'sixteen', 1478: 'gimme', 1479: 'radar', 1480: 'minds', 1481: 'action', 1482: 'against', 1483: 'third', 1484: 'doe', 1485: 'plus', 1486: 'bonus', 1487: 'colonel', 1488: 'strike', 1489: 'flowers', 1490: 'nineteen', 1491: 'floor', 1492: 'seats', 1493: 'roper', 1494: 'satisfied', 1495: 'lives', 1496: 'escaped', 1497: 'scott', 1498: 'condition', 1499: 'style', 1500: 'test', 1501: 'program', 1502: 'male', 1503: 'standard', 1504: 'fox', 1505: 'closer', 1506: 'basically', 1507: 'mask', 1508: 'london', 1509: 'jews', 1510: 'switch', 1511: 'hands', 1512: 'dating', 1513: 'pictures', 1514: 'moscow', 1515: 'paine', 1516: 'waiter', 1517: 'diz', 1518: 'tunnel', 1519: 'susan', 1520: 'otis', 1521: 'hill', 1522: 'than', 1523: 'dirty', 1524: 'frame', 1525: 'shop', 1526: 'washington', 1527: 'jefferson', 1528: 'punch', 1529: 'committee', 1530: 'paper', 1531: 'lena', 1532: 'camp', 1533: 'chick', 1534: 'senator', 1535: 'order', 1536: 'deeds', 1537: 'children', 1538: 'cedar', 1539: 'honor', 1540: 'hang', 1541: 'proceed', 1542: 'farmer', 1543: 'cook', 1544: 'doc', 1545: 'lily', 1546: 'martin', 1547: 'specific', 1548: 'sore', 1549: 'throat', 1550: 'either', 1551: 'skip', 1552: 'doll', 1553: 'drugs', 1554: 'shall', 1555: 'staying', 1556: 'ummm', 1557: 'spy', 1558: 'stay', 1559: 'admire', 1560: 'cover', 1561: 'agents', 1562: 'walked', 1563: 'air', 1564: 'delivery', 1565: 'craig', 1566: '20', 1567: 'san', 1568: 'diego', 1569: 'tv', 1570: 'lynn', 1571: 'laughs', 1572: 'gives', 1573: 'amen', 1574: 'ye', 1575: 'mmhm', 1576: 'honeymoon', 1577: 'killer', 1578: 'nancy', 1579: 'into', 1580: 'leon', 1581: 'hat', 1582: 'lawyer', 1583: 'comrade', 1584: 'guest', 1585: 'private', 1586: 'visa', 1587: 'smile', 1588: 'story', 1589: 'thursday', 1590: 'speech', 1591: 'music', 1592: 'swana', 1593: 'unfortunately', 1594: 'cigarette', 1595: 'their', 1596: 'fourth', 1597: 'fucking', 1598: 'castro', 1599: 'winning', 1600: 'ernie', 1601: 'davis', 1602: 'proud', 1603: 'hiding', 1604: 'older', 1605: 'cup', 1606: 'most', 1607: 'llewelyn', 1608: 'sheriff', 1609: 'tent', 1610: 'pot', 1611: 'nam', 1612: 'outfit', 1613: 'plenty', 1614: 'betty', 1615: 'del', 1616: 'rome', 1617: 'wesley', 1618: 'devil', 1619: 'helluva', 1620: 'before', 1621: 'asshole', 1622: 'idiot', 1623: 'cell', 1624: 'phone', 1625: 'master', 1626: 'leaves', 1627: 'space', 1628: 'code', 1629: 'option', 1630: 'summer', 1631: 'unit', 1632: 'falls', 1633: 'gabriel', 1634: 'ended', 1635: 'gray', 1636: 'seventeen', 1637: 'gorgeous', 1638: 'wash', 1639: 'ceremony', 1640: 'swann', 1641: 'freedom', 1642: 'cheated', 1643: 'moment', 1644: 'already', 1645: 'cheese', 1646: 'gallagher', 1647: 'staring', 1648: 'smith', 1649: 'sex', 1650: 'bud', 1651: 'crying', 1652: 'gosh', 1653: 'changes', 1654: 'green', 1655: 'jen', 1656: 'scout', 1657: 'repair', 1658: 'city', 1659: 'knife', 1660: 'mhm', 1661: 'rug', 1662: 'wifes', 1663: 'actor', 1664: 'director', 1665: 'picture', 1666: 'using', 1667: 'showing', 1668: 'title', 1669: 'citizen', 1670: 'kane', 1671: 'leg', 1672: 'stella', 1673: 'doyle', 1674: 'judy', 1675: 'plato', 1676: 'dawn', 1677: 'guard', 1678: 'chicken', 1679: 'saved', 1680: 'million', 1681: 'singing', 1682: 'ash', 1683: 'talkin', 1684: 'bar', 1685: 'brown', 1686: 'fight', 1687: 'murdered', 1688: 'hank', 1689: 'motherfucker', 1690: 'forgotten', 1691: 'unless', 1692: 'false', 1693: 'alarm', 1694: 'television', 1695: 'donna', 1696: 'because', 1697: 'graham', 1698: 'mmmmm', 1699: 'loud', 1700: 'apparently', 1701: 'cynthia', 1702: 'hung', 1703: 'tapes', 1704: 'breaking', 1705: 'young', 1706: 'f', 1707: 'fabulous', 1708: 'field', 1709: 'joke', 1710: 'criminal', 1711: 'trunk', 1712: 'maya', 1713: 'count', 1714: 'besides', 1715: 'ken', 1716: 'pregnant', 1717: 'hair', 1718: 'noise', 1719: 'morgan', 1720: 'book', 1721: 'kate', 1722: 'expect', 1723: 'record', 1724: 'howdy', 1725: 'forever', 1726: 'simone', 1727: 'double', 1728: 'words', 1729: 'witch', 1730: 'throw', 1731: 'started', 1732: 'mac', 1733: 'meat', 1734: 'present', 1735: 'grant', 1736: 'having', 1737: 'begging', 1738: 'also', 1739: 'boring', 1740: 'bandit', 1741: 'history', 1742: 'ears', 1743: 'mmmhmm', 1744: 'sid', 1745: 'quickly', 1746: 'chris', 1747: 'watched', 1748: 'shooting', 1749: 'jawohl', 1750: 'cigar', 1751: 'animal', 1752: 'data', 1753: 'kirk', 1754: 'report', 1755: 'nexus', 1756: 'response', 1757: 'spock', 1758: 'bones', 1759: 'until', 1760: 'carol', 1761: 'screen', 1762: 'admiral', 1763: 'engines', 1764: 'damage', 1765: 'meant', 1766: 'sulu', 1767: 'panic', 1768: 'ship', 1769: 'full', 1770: 'impulse', 1771: 'deck', 1772: 'counselor', 1773: 'borg', 1774: 'juice', 1775: 'main', 1776: 'signs', 1777: 'target', 1778: 'someone', 1779: 'spoken', 1780: 'incident', 1781: 'coat', 1782: 'except', 1783: 'surely', 1784: 'dying', 1785: 'faith', 1786: 'direct', 1787: 'praetor', 1788: 'shermin', 1789: 'gear', 1790: 'pancakes', 1791: 'closed', 1792: 'horses', 1793: 'yellow', 1794: 'charm', 1795: 'lenny', 1796: 'dylan', 1797: 'buried', 1798: 'tattoo', 1799: 'suspect', 1800: 'zero', 1801: 'table', 1802: 'yea', 1803: 'honestly', 1804: 'fa', 1805: 'corleone', 1806: 'michael', 1807: 'jazz', 1808: 'freddie', 1809: 'club', 1810: 'marge', 1811: 'dickie', 1812: 'guilty', 1813: 'moon', 1814: 'travis', 1815: 'fee', 1816: 'stick', 1817: 'iris', 1818: 'education', 1819: 'happens', 1820: 'oil', 1821: 'mason', 1822: 'partners', 1823: 'gods', 1824: 'speed', 1825: 'hall', 1826: 'luke', 1827: 'smell', 1828: 'cat', 1829: 'cathy', 1830: 'francisco', 1831: 'daniels', 1832: 'mmmm', 1833: 'mitch', 1834: 'cheers', 1835: 'birds', 1836: 'wing', 1837: 'burke', 1838: 'erin', 1839: 'sweetheart', 1840: 'twelve', 1841: 'together', 1842: 'vampire', 1843: 'looks', 1844: 'ocean', 1845: 'moms', 1846: 'piss', 1847: 'dinner', 1848: 'childs', 1849: 'generator', 1850: 'send', 1851: 'alexander', 1852: 'created', 1853: 'manage', 1854: 'hon', 1855: 'nut', 1856: 'thelma', 1857: 'louise', 1858: 'sent', 1859: 'babe', 1860: 'miami', 1861: 'harvard', 1862: 'among', 1863: 'lookin', 1864: 'cake', 1865: 'twentytwo', 1866: 'dean', 1867: 'tie', 1868: 'journey', 1869: 'jimmys', 1870: 'lieutenant', 1871: 'plane', 1872: 'danger', 1873: 'anymore', 1874: 'nose', 1875: 'hint', 1876: 'trip', 1877: 'mars', 1878: 'reactor', 1879: 'gave', 1880: 'objection', 1881: 'cia', 1882: 'albert', 1883: 'blonde', 1884: 'teresa', 1885: 'fill', 1886: 'james', 1887: 'trees', 1888: 'fish', 1889: 'crime', 1890: 'ed', 1891: 'hour', 1892: 'single', 1893: 'mickey', 1894: 'doctors', 1895: 'heather', 1896: 'studio', 1897: 'carry', 1898: 'passport', 1899: 'indian', 1900: 'sailor', 1901: 'sail', 1902: 'tripp', 1903: 'emily', 1904: 'stoned', 1905: 'parents', 1906: 'sensitive', 1907: 'sense', 1908: 'passed', 1909: 'carvel', 1910: 'warm', 1911: 'near', 1912: 'hannah', 1913: 'chancellor', 1914: 'pow', 1915: 'sara', 1916: 'grady', 1917: 'cherry', 1918: 'ms', 1919: 'kramer', 1920: 'diary', 1921: 'evidence', 1922: 'reflect', 1923: 'honest', 1924: 'relaxed', 1925: 'nap', 1926: 'worst', 1927: 'odds', 1928: 'yuh', 1929: 'agnes', 1930: 'fell', 1931: 'questions', 1932: 'laugh', 1933: 'mistake', 1934: 'crucifix', 1935: 'frightened', 1936: 'sheets', 1937: 'niece', 1938: 'deny', 1939: 'begin', 1940: 'ta', 1941: 'selfish', 1942: 'pity', 1943: 'reading', 1944: 'nerves', 1945: 'cattle', 1946: 'lock', 1947: 'film', 1948: 'de', 1949: 'addison', 1950: 'margo', 1951: 'seems', 1952: 'size', 1953: 'subway', 1954: 'hollywood', 1955: 'harrington', 1956: 'tears', 1957: 'goddamnit', 1958: 'hunt', 1959: 'fbi', 1960: 'senior', 1961: 'haldeman', 1962: 'shame', 1963: 'contact', 1964: 'sophie', 1965: 'allison', 1966: 'alvy', 1967: 'step', 1968: 'sally', 1969: 'monica', 1970: 'novel', 1971: 'ryan', 1972: 'tiger', 1973: 'lemon', 1974: 'willing', 1975: 'panes', 1976: 'list', 1977: 'arrest', 1978: 'sheldrake', 1979: 'baxter', 1980: 'stomach', 1981: 'cemetery', 1982: 'knee', 1983: 'dig', 1984: 'kubelik', 1985: 'dreyfuss', 1986: 'important', 1987: 'handle', 1988: 'nerve', 1989: 'tracks', 1990: 'spooky', 1991: 'lame', 1992: 'wind', 1993: 'hairy', 1994: 'since', 1995: 'boyfriend', 1996: 'contract', 1997: 'player', 1998: 'electra', 1999: 'several', 2000: 'stinks', 2001: 'close', 2002: 'split', 2003: 'white', 2004: 'holly', 2005: 'invited', 2006: 'dry', 2007: 'bag', 2008: 'landon', 2009: 'enemy', 2010: 'jamie', 2011: 'accident', 2012: 'dummy', 2013: 'drill', 2014: 'operator', 2015: 'catch', 2016: 'wanta', 2017: 'jersey', 2018: 'planet', 2019: '10', 2020: 'damnit', 2021: 'chet', 2022: 'write', 2023: 'lipnik', 2024: 'lapd', 2025: 'anyway', 2026: 'ice', 2027: 'risk', 2028: 'routine', 2029: 'homicide', 2030: 'painting', 2031: 'paint', 2032: 'babies', 2033: 'beauty', 2034: 'impressive', 2035: 'ran', 2036: 'bat', 2037: 'edward', 2038: 'scottish', 2039: 'jane', 2040: 'sitting', 2041: 'attorney', 2042: 'chauncey', 2043: 'ronald', 2044: 'malkovich', 2045: 'monkey', 2046: 'security', 2047: 'tits', 2048: 'wendy', 2049: 'scary', 2050: 'grown', 2051: 'stiff', 2052: 'allan', 2053: 'heh', 2054: 'johnson', 2055: 'recognize', 2056: 'domini', 2057: 'names', 2058: 'owl', 2059: 'j', 2060: 'tuesday', 2061: 'que', 2062: 'derek', 2063: 'barbara', 2064: 'un', 2065: 'bien', 2066: 'group', 2067: 'marsh', 2068: 'intense', 2069: 'angry', 2070: 'relaxing', 2071: 'grateful', 2072: 'heat', 2073: 'francesca', 2074: 's', 2075: 'jump', 2076: 'admit', 2077: 'gino', 2078: 'violet', 2079: 'favor', 2080: 'truck', 2081: 'johnnie', 2082: 'marzzone', 2083: 'paris', 2084: 'trusted', 2085: 'xxxxxx', 2086: 'heavy', 2087: 'cards', 2088: 'underwear', 2089: 'legs', 2090: 'billion', 2091: 'jeez', 2092: 'seat', 2093: 'game', 2094: 'buffy', 2095: 'forgot', 2096: 'china', 2097: 'pike', 2098: 'annie', 2099: 'settle', 2100: 'c', 2101: 'crash', 2102: 'pussy', 2103: 'ace', 2104: 'sammy', 2105: 'ohh', 2106: 'under', 2107: 'frankie', 2108: 'stacy', 2109: 'm', 2110: 'tony', 2111: 'waiting', 2112: 'drag', 2113: 'blind', 2114: 'loyalty', 2115: 'thought', 2116: 'col', 2117: 'dil', 2118: 'american', 2119: 'pills', 2120: 'soldier', 2121: 'fergus', 2122: 'metro', 2123: 'horny', 2124: 'cmere', 2125: 'steal', 2126: 'charles', 2127: 'la', 2128: 'jody', 2129: 'michaels', 2130: 'princess', 2131: 'sherman', 2132: 'attacked', 2133: 'principal', 2134: 'aunt', 2135: 'rod', 2136: 'moron', 2137: 'borrowed', 2138: 'whoo', 2139: 'worth', 2140: 'arlo', 2141: 'owes', 2142: 'faint', 2143: 'balls', 2144: 'owe', 2145: 'fall', 2146: 'mornin', 2147: 'dangerous', 2148: 'though', 2149: 'checked', 2150: 'somehow', 2151: 'secrets', 2152: 'elvis', 2153: 'fly', 2154: 'side', 2155: 'alley', 2156: 'lou', 2157: 'gittes', 2158: 'tea', 2159: 'mulwray', 2160: 'cross', 2161: 'valley', 2162: 'eye', 2163: 'lunch', 2164: 'apple', 2165: 'core', 2166: 'cents', 2167: 'beats', 2168: 'sang', 2169: 'harris', 2170: 'empire', 2171: 'emperor', 2172: 'design', 2173: 'reach', 2174: 'living', 2175: 'proof', 2176: 'eats', 2177: 'cock', 2178: 'including', 2179: 'couple', 2180: 'copy', 2181: 'bags', 2182: 'gabe', 2183: 'burned', 2184: 'wine', 2185: 'psychic', 2186: 'central', 2187: 'vincent', 2188: 'realized', 2189: 'jerry', 2190: 'jonas', 2191: 'primer', 2192: 'return', 2193: 'kick', 2194: 'buck', 2195: 'patient', 2196: 'letty', 2197: 'checking', 2198: 'taylor', 2199: 'murderer', 2200: 'talent', 2201: 'buying', 2202: 'dollar', 2203: 'shelly', 2204: 'kathryn', 2205: 'lift', 2206: 'cecile', 2207: 'hide', 2208: 'desk', 2209: 'im', 2210: 'trick', 2211: 'month', 2212: 'alan', 2213: 'nightmare', 2214: 'stroke', 2215: 'government', 2216: 'presence', 2217: 'curse', 2218: 'thieves', 2219: 'social', 2220: 'boots', 2221: 'insist', 2222: 'sal', 2223: 'playing', 2224: 'merle', 2225: 'phantom', 2226: 'jabez', 2227: 'belle', 2228: 'stone', 2229: 'sonny', 2230: 'frisk', 2231: 'innocent', 2232: 'd', 2233: 'dug', 2234: 'lloyd', 2235: 'papers', 2236: 'horse', 2237: 'pain', 2238: 'guessed', 2239: 'wood', 2240: 'reynolds', 2241: 'dynamite', 2242: 'shari', 2243: 'tracy', 2244: 'talked', 2245: 'shoe', 2246: 'unou', 2247: 'reality', 2248: 'officer', 2249: 'brill', 2250: 'feeling', 2251: 'remain', 2252: 'seen', 2253: 'rachel', 2254: 'gentlemen', 2255: 'broken', 2256: 'appropriate', 2257: 'shutup', 2258: 'kip', 2259: 'fake', 2260: 'charged', 2261: 'share', 2262: 'remind', 2263: 'learn', 2264: 'food', 2265: 'cuervo', 2266: 'plissken', 2267: 'cannot', 2268: 'aside', 2269: 'lies', 2270: 'karras', 2271: 'regan', 2272: 'momma', 2273: 'teeth', 2274: 'lotta', 2275: 'royal', 2276: 'april', 2277: 'virgins', 2278: 'lee', 2279: 'born', 2280: 'prom', 2281: 'assistant', 2282: 'brain', 2283: 'fuel', 2284: 'geez', 2285: 'kiddin', 2286: 'tyler', 2287: 'being', 2288: 'jobs', 2289: 'cigarettes', 2290: 'comin', 2291: 'parry', 2292: 'tragedy', 2293: 'quest', 2294: 'swimming', 2295: 'catherine', 2296: 'fletch', 2297: 'margaret', 2298: 'stanwyk', 2299: 'hero', 2300: 'natural', 2301: 'ford', 2302: 'shock', 2303: 'sale', 2304: 'garbage', 2305: 'pocket', 2306: 'vote', 2307: 'steven', 2308: 'prick', 2309: 'elliot', 2310: 'awful', 2311: 'sox', 2312: 'opening', 2313: 'bourne', 2314: 'relief', 2315: 'needs', 2316: 'chicago', 2317: 'nasty', 2318: 'brumby', 2319: 'estate', 2320: 'starting', 2321: 'build', 2322: 'murray', 2323: 'asking', 2324: 'harm', 2325: 'diane', 2326: 'slip', 2327: 'worries', 2328: 'flies', 2329: 'edge', 2330: 'places', 2331: 'clearly', 2332: 'pa', 2333: 'warrant', 2334: 'aim', 2335: 'matter', 2336: 'computer', 2337: 'union', 2338: 'period', 2339: 'mixed', 2340: 'darlin', 2341: 'caught', 2342: 'brady', 2343: 'script', 2344: 'pal', 2345: 'reaction', 2346: 'fruit', 2347: 'mummy', 2348: 'skin', 2349: 'recently', 2350: 'france', 2351: 'past', 2352: 'huge', 2353: 'use', 2354: 'base', 2355: 'satellites', 2356: 'manager', 2357: 'confused', 2358: 'prove', 2359: 'aubrey', 2360: 'maura', 2361: 'gonna', 2362: 'prison', 2363: 'finally', 2364: 'finds', 2365: 'birth', 2366: 'control', 2367: 'mikey', 2368: 'watching', 2369: 'partner', 2370: 'wild', 2371: 'lover', 2372: 'storm', 2373: 'means', 2374: 'julie', 2375: 'thea', 2376: 'soul', 2377: 'charge', 2378: 'coconuts', 2379: 'tina', 2380: 'camera', 2381: 'heading', 2382: 'missing', 2383: 'pray', 2384: 'eric', 2385: 'amanda', 2386: 'kelly', 2387: 'hola', 2388: 'threw', 2389: 'chain', 2390: 'empty', 2391: 'usually', 2392: 'compassion', 2393: 'belong', 2394: 'unusual', 2395: 'greatest', 2396: 'holiness', 2397: 'chinese', 2398: 'completely', 2399: 'cocktail', 2400: 'trap', 2401: 'tooth', 2402: 'uyouu', 2403: 'kevin', 2404: 'w', 2405: 'further', 2406: 'powder', 2407: 'arms', 2408: 'sixpack', 2409: 'skinny', 2410: 'cliff', 2411: 'reputation', 2412: 'fellas', 2413: 'nix', 2414: 'damour', 2415: 'question', 2416: 'popcorn', 2417: 'secretary', 2418: 'taste', 2419: 'visiting', 2420: 'messy', 2421: 'claudia', 2422: 'braces', 2423: 'loves', 2424: 'drinking', 2425: 'dot', 2426: 'himself', 2427: 'forgiveness', 2428: 'phillippe', 2429: 'memphis', 2430: 'beginning', 2431: 'tank', 2432: 'neo', 2433: 'jewish', 2434: 'kennedy', 2435: 'pipes', 2436: 'johnny', 2437: 'gets', 2438: 'universe', 2439: 'raise', 2440: '21', 2441: 'havana', 2442: 'alonzo', 2443: 'equipment', 2444: 'lawyers', 2445: 'crowd', 2446: 'newspapers', 2447: 'information', 2448: 'higher', 2449: 'loretta', 2450: 'ni', 2451: 'lad', 2452: 'rather', 2453: 'quick', 2454: '17', 2455: 'dragon', 2456: 'vada', 2457: 'committed', 2458: 'tiny', 2459: 'impressed', 2460: 'ex', 2461: 'rock', 2462: 'salt', 2463: 'oath', 2464: 'takes', 2465: 'national', 2466: 'nash', 2467: 'thin', 2468: 'bay', 2469: 'wayne', 2470: 'teacher', 2471: 'surprised', 2472: 'particularly', 2473: 'popular', 2474: 'goes', 2475: 'expensive', 2476: 'wearing', 2477: 'uniform', 2478: 'awfully', 2479: 'considering', 2480: 'firm', 2481: 'total', 2482: 'swore', 2483: 'repeat', 2484: 'bend', 2485: 'tall', 2486: 'decent', 2487: 'allowed', 2488: 'slit', 2489: 'supposed', 2490: 'taking', 2491: 'werent', 2492: 'twist', 2493: 'therapy', 2494: 'lived', 2495: 'grandfather', 2496: 'truly', 2497: 'decided', 2498: 'term', 2499: 'helping', 2500: 'given', 2501: 'waited', 2502: 'country', 2503: 'based', 2504: 'distance', 2505: 'forward', 2506: 'biggest', 2507: 'desperate', 2508: 'decision', 2509: 'hadnt', 2510: 'gotten', 2511: 'running', 2512: 'awhile', 2513: 'dreamed', 2514: 'sees', 2515: 'finest', 2516: 'smoking', 2517: 'planning', 2518: 'pissed', 2519: 'psychiatrist', 2520: 'discuss', 2521: 'ought', 2522: 'during', 2523: 'each', 2524: 'whenever', 2525: 'frankly', 2526: 'intelligence', 2527: 'reports', 2528: 'vehicle', 2529: 'purpose', 2530: 'bust', 2531: 'struck', 2532: 'deliver', 2533: 'brothers', 2534: 'ladies', 2535: 'somethin', 2536: 'taxi', 2537: 'across', 2538: 'pieces', 2539: 'thrown', 2540: 'bleeding', 2541: 'knees', 2542: 'complain', 2543: 'serial', 2544: 'numbers', 2545: 'service', 2546: 'serve', 2547: 'destruction', 2548: 'fifth', 2549: 'finger', 2550: 'pulled', 2551: 'release', 2552: 'lines', 2553: 'language', 2554: 'programmed', 2555: 'button', 2556: 'immediately', 2557: 'carefully', 2558: 'telling', 2559: 'simply', 2560: 'reasons', 2561: 'investigator', 2562: 'services', 2563: 'anne', 2564: 'played', 2565: 'tells', 2566: 'pennsylvania', 2567: 'stock', 2568: 'players', 2569: 'goods', 2570: 'study', 2571: 'cutting', 2572: 'cost', 2573: 'arranged', 2574: 'following', 2575: 'height', 2576: 'weight', 2577: 'seemed', 2578: 'depressed', 2579: 'disappeared', 2580: 'raped', 2581: 'somethings', 2582: 'according', 2583: 'dads', 2584: 'downstairs', 2585: 'especially', 2586: 'felt', 2587: 'model', 2588: 'named', 2589: 'ancient', 2590: 'shark', 2591: 'officers', 2592: 'sudden', 2593: 'making', 2594: 'between', 2595: 'island', 2596: 'experience', 2597: 'minor', 2598: 'thinks', 2599: 'systems', 2600: 'therefore', 2601: 'pattern', 2602: 'occurred', 2603: 'precisely', 2604: 'drug', 2605: 'abuse', 2606: 'mail', 2607: 'difference', 2608: 'ruined', 2609: 'gettin', 2610: 'jill', 2611: 'coulda', 2612: 'accept', 2613: 'christs', 2614: 'sake', 2615: 'instead', 2616: 'shoulda', 2617: 'wondering', 2618: 'lesson', 2619: 'boston', 2620: 'picked', 2621: 'visit', 2622: 'divorce', 2623: 'disappoint', 2624: 'earlier', 2625: 'romeo', 2626: 'tango', 2627: 'changing', 2628: 'traffic', 2629: 'emergency', 2630: 'simple', 2631: 'difficult', 2632: 'flight', 2633: 'familiar', 2634: 'note', 2635: 'decide', 2636: 'board', 2637: 'department', 2638: 'los', 2639: 'somebodys', 2640: 'nothings', 2641: 'personal', 2642: 'cocaine', 2643: 'procedure', 2644: 'energy', 2645: 'loads', 2646: 'known', 2647: 'cabin', 2648: 'grenade', 2649: 'anytime', 2650: 'anywhere', 2651: 'team', 2652: 'everythings', 2653: 'assume', 2654: 'license', 2655: 'slowly', 2656: 'residence', 2657: 'backwards', 2658: 'tub', 2659: 'killing', 2660: 'commission', 2661: 'fact', 2662: 'advice', 2663: 'marry', 2664: 'introduce', 2665: 'hush', 2666: 'express', 2667: 'sits', 2668: 'snake', 2669: 'foot', 2670: 'teach', 2671: 'borrow', 2672: 'mans', 2673: 'feelings', 2674: 'burning', 2675: 'suddenly', 2676: 'common', 2677: 'measure', 2678: 'whole', 2679: 'foolish', 2680: 'musical', 2681: 'actual', 2682: 'writing', 2683: 'village', 2684: 'acting', 2685: 'forced', 2686: 'feed', 2687: 'castle', 2688: 'waking', 2689: 'round', 2690: 'neck', 2691: 'proper', 2692: 'practice', 2693: 'suffered', 2694: 'pointed', 2695: 'aware', 2696: 'weather', 2697: 'telephone', 2698: 'attack', 2699: 'pin', 2700: 'twentyfour', 2701: 'responsible', 2702: 'riot', 2703: 'invite', 2704: 'terribly', 2705: 'becoming', 2706: 'stories', 2707: 'spoke', 2708: 'protecting', 2709: 'whether', 2710: 'runs', 2711: 'yell', 2712: 'gang', 2713: 'bunch', 2714: 'younger', 2715: 'riding', 2716: 'toward', 2717: 'rising', 2718: 'standing', 2719: 'yelling', 2720: 'county', 2721: 'franks', 2722: 'justice', 2723: 'farm', 2724: 'jealous', 2725: 'ordered', 2726: 'ground', 2727: 'champagne', 2728: 'rocks', 2729: 'starts', 2730: 'inch', 2731: 'force', 2732: 'wedding', 2733: 'everybodys', 2734: 'behavior', 2735: 'bone', 2736: 'nuclear', 2737: 'file', 2738: 'crystal', 2739: 'seeing', 2740: 'dumb', 2741: 'involved', 2742: 'received', 2743: 'attitude', 2744: 'section', 2745: 'stayed', 2746: 'hoping', 2747: 'company', 2748: 'hated', 2749: 'hanging', 2750: 'wall', 2751: '48', 2752: 'degrees', 2753: '12', 2754: 'famous', 2755: 'per', 2756: 'cent', 2757: 'suspects', 2758: 'entered', 2759: 'pulling', 2760: 'defense', 2761: 'frozen', 2762: 'process', 2763: 'appointment', 2764: 'political', 2765: 'triumph', 2766: 'couch', 2767: 'june', 2768: 'genius', 2769: 'project', 2770: 'settled', 2771: 'shots', 2772: 'slipped', 2773: 'fellow', 2774: 'society', 2775: 'plot', 2776: 'personality', 2777: 'operation', 2778: 'relationship', 2779: 'grade', 2780: 'neighborhood', 2781: 'lead', 2782: 'whoever', 2783: 'fried', 2784: 'showed', 2785: 'mouth', 2786: 'lessons', 2787: 'interest', 2788: 'leads', 2789: 'assholes', 2790: 'virgin', 2791: 'paying', 2792: 'forehead', 2793: 'middle', 2794: 'carrying', 2795: 'form', 2796: 'staff', 2797: 'meeting', 2798: 'da', 2799: 'hidden', 2800: 'perfectly', 2801: 'birthday', 2802: 'seventy', 2803: 'passing', 2804: 'value', 2805: 'gate', 2806: 'stable', 2807: 'charges', 2808: 'hunting', 2809: 'easier', 2810: 'area', 2811: 'pack', 2812: 'happening', 2813: 'rooms', 2814: 'blown', 2815: 'concerned', 2816: 'giving', 2817: 'military', 2818: 'expecting', 2819: 'neighbor', 2820: 'drove', 2821: 'account', 2822: 'wasting', 2823: 'quarter', 2824: 'favorite', 2825: 'throwing', 2826: 'customers', 2827: 'tour', 2828: 'although', 2829: 'support', 2830: 'gal', 2831: 'cuz', 2832: 'stuck', 2833: 'spirit', 2834: '13', 2835: 'song', 2836: 'woke', 2837: 'tied', 2838: 'squad', 2839: 'tongue', 2840: 'nights', 2841: 'federation', 2842: 'holes', 2843: 'piece', 2844: 'sebastian', 2845: 'seem', 2846: 'butt', 2847: 'penis', 2848: 'physical', 2849: 'laid', 2850: 'engine', 2851: 'drank', 2852: 'obvious', 2853: 'attractive', 2854: 'knowing', 2855: 'pants', 2856: 'magazine', 2857: 'beef', 2858: 'someday', 2859: 'final', 2860: 'neighbors', 2861: 'ourselves', 2862: 'entrance', 2863: 'gentleman', 2864: 'ear', 2865: 'beaumont', 2866: 'discovered', 2867: 'undressed', 2868: 'enter', 2869: 'opened', 2870: 'ribbon', 2871: 'vacation', 2872: 'football', 2873: 'plant', 2874: 'laughing', 2875: 'dressed', 2876: 'amount', 2877: 'nobodys', 2878: 'bullet', 2879: 'press', 2880: 'everywhere', 2881: 'psycho', 2882: 'blame', 2883: 'legal', 2884: 'marks', 2885: 'bullets', 2886: 'waste', 2887: 'studying', 2888: 'exact', 2889: 'prefer', 2890: 'united', 2891: 'states', 2892: 'thief', 2893: 'attention', 2894: 'basement', 2895: 'corner', 2896: 'silver', 2897: 'bridge', 2898: 'agency', 2899: 'source', 2900: 'herself', 2901: 'conference', 2902: 'respect', 2903: 'worthy', 2904: 'choose', 2905: 'growing', 2906: 'suspicious', 2907: 'extremely', 2908: 'lately', 2909: 'memories', 2910: 'flat', 2911: 'answers', 2912: 't', 2913: 'pen', 2914: 'exit', 2915: 'germans', 2916: 'wore', 2917: 'able', 2918: 'arrange', 2919: 'expected', 2920: 'lonely', 2921: 'fighting', 2922: 'message', 2923: 'ordinary', 2924: 'informed', 2925: 'shape', 2926: 'details', 2927: 'sweat', 2928: 'dropping', 2929: 'kinds', 2930: 'travel', 2931: 'coast', 2932: 'stars', 2933: 'streets', 2934: 'consider', 2935: 'breath', 2936: 'spend', 2937: 'sooner', 2938: 'interested', 2939: 'block', 2940: 'bird', 2941: 'embarrassing', 2942: 'crew', 2943: 'everyones', 2944: 'cars', 2945: 'written', 2946: 'within', 2947: 'destroyed', 2948: 'pro', 2949: 'dates', 2950: 'cheat', 2951: 'warning', 2952: 'toilet', 2953: 'existence', 2954: 'wives', 2955: 'girlfriends', 2956: 'professional', 2957: 'trans', 2958: 'window', 2959: 'slightest', 2960: 'christmas', 2961: 'client', 2962: 'ways', 2963: 'public', 2964: 'fucks', 2965: 'passes', 2966: 'jet', 2967: 'conversation', 2968: 'compliment', 2969: 'keeps', 2970: 'appear', 2971: 'bottom', 2972: 'taught', 2973: 'makin', 2974: 'track', 2975: 'fixed', 2976: 'dyou', 2977: 'berserk', 2978: 'sword', 2979: 'tonights', 2980: 'ruin', 2981: 'slept', 2982: 'hired', 2983: 'wondered', 2984: 'upon', 2985: 'thoughts', 2986: 'map', 2987: 'particular', 2988: 'hills', 2989: 'however', 2990: 'convinced', 2991: 'event', 2992: 'shortly', 2993: 'breathe', 2994: 'meters', 2995: 'terms', 2996: 'center', 2997: 'turned', 2998: 'jacket', 2999: 'bell', 3000: 'climb', 3001: 'dare', 3002: 'acid', 3003: 'notice', 3004: 'become', 3005: 'handy', 3006: 'prepare', 3007: 'ammo', 3008: 'stage', 3009: 'contest', 3010: 'whens', 3011: 'mountain', 3012: 'crack', 3013: 'route', 3014: 'sending', 3015: 'pleased', 3016: 'files', 3017: 'strength', 3018: 'imagination', 3019: 'fantastic', 3020: 'issue', 3021: 'artist', 3022: 'somewhere', 3023: 'japanese', 3024: 'border', 3025: 'above', 3026: 'weapons', 3027: 'channel', 3028: 'signed', 3029: 'quarters', 3030: 'training', 3031: 'poetry', 3032: 'filled', 3033: 'creature', 3034: 'exciting', 3035: 'handsome', 3036: 'learned', 3037: 'creatures', 3038: 'protect', 3039: 'appearance', 3040: 'makeup', 3041: 'level', 3042: 'bumped', 3043: 'convention', 3044: 'pushing', 3045: 'served', 3046: 'complaining', 3047: 'entire', 3048: 'fort', 3049: 'complete', 3050: 'british', 3051: 'matters', 3052: 'avenue', 3053: 'arrested', 3054: 'owns', 3055: 'outa', 3056: 'vessel', 3057: 'reasonable', 3058: 'sales', 3059: 'station', 3060: 'practically', 3061: 'puts', 3062: 'obsessed', 3063: 'bringing', 3064: 'records', 3065: 'guarantee', 3066: 'complicated', 3067: 'theory', 3068: 'dana', 3069: 'mention', 3070: 'tax', 3071: 'floating', 3072: 'pair', 3073: 'writer', 3074: 'asks', 3075: 'medical', 3076: 'available', 3077: 'circumstances', 3078: 'friendly', 3079: 'keeping', 3080: 'surgeon', 3081: 'manchester', 3082: 'session', 3083: 'loan', 3084: 'finding', 3085: 'hits', 3086: 'assigned', 3087: 'betcha', 3088: 'afford', 3089: 'concern', 3090: 'chemical', 3091: 'sold', 3092: 'pilot', 3093: 'youyou', 3094: 'brave', 3095: 'masters', 3096: 'beast', 3097: 'faces', 3098: 'damned', 3099: 'eggs', 3100: 'expert', 3101: 'opinion', 3102: 'sexual', 3103: 'flying', 3104: 'suffering', 3105: 'holding', 3106: 'touching', 3107: 'university', 3108: 'tennis', 3109: 'confidence', 3110: 'judge', 3111: 'hole', 3112: 'producer', 3113: '25', 3114: 'tone', 3115: 'connection', 3116: 'property', 3117: 'counting', 3118: 'beyond', 3119: 'parked', 3120: 'flesh', 3121: 'mothers', 3122: 'bored', 3123: 'suite', 3124: 'envelope', 3125: 'thirteen', 3126: 'add', 3127: 'smaller', 3128: 'monster', 3129: 'bothering', 3130: 'games', 3131: 'twins', 3132: 'williams', 3133: 'kicked', 3134: 'deputy', 3135: 'attempt', 3136: 'toss', 3137: 'mile', 3138: 'til', 3139: 'blew', 3140: 'grab', 3141: 'blah', 3142: 'prize', 3143: 'headed', 3144: 'woods', 3145: 'smooth', 3146: 'helpful', 3147: 'image', 3148: 'collar', 3149: 'milk', 3150: 'gambling', 3151: 'putting', 3152: 'races', 3153: 'fella', 3154: 'someplace', 3155: 'signal', 3156: 'research', 3157: 'grail', 3158: 'itself', 3159: 'chin', 3160: 'rush', 3161: 'losing', 3162: 'helped', 3163: 'powerful', 3164: 'privacy', 3165: 'interview', 3166: 'threatened', 3167: 'court', 3168: 'ami', 3169: 'raised', 3170: 'sat', 3171: 'example', 3172: 'congratulations', 3173: 'bureau', 3174: 'socks', 3175: 'trigger', 3176: 'elizabeth', 3177: 'annette', 3178: 'brings', 3179: 'thinkin', 3180: 'spending', 3181: 'parking', 3182: 'brains', 3183: 'givin', 3184: 'rip', 3185: 'shower', 3186: 'marked', 3187: 'fantasy', 3188: 'lab', 3189: 'reverse', 3190: 'whale', 3191: 'fishing', 3192: 'stronger', 3193: 'guts', 3194: 'eleven', 3195: 'otherwise', 3196: 'search', 3197: 'viktor', 3198: 'fortress', 3199: 'rude', 3200: 'helps', 3201: 'shown', 3202: 'followed', 3203: 'picking', 3204: 'restaurant', 3205: 'spell', 3206: 'letting', 3207: 'policy', 3208: 'rent', 3209: 'gibson', 3210: 'mood', 3211: 'relative', 3212: 'motel', 3213: 'direction', 3214: 'exchange', 3215: 'usual', 3216: 'struggling', 3217: 'species', 3218: 'system', 3219: 'offered', 3220: 'jew', 3221: 'cleaning', 3222: 'owned', 3223: 'transferred', 3224: 'bodyguard', 3225: 'hire', 3226: 'cooking', 3227: 'hearing', 3228: 'league', 3229: 'criminals', 3230: 'wheel', 3231: 'paula', 3232: 'acted', 3233: 'dropped', 3234: 'series', 3235: 'newspaper', 3236: 'shrink', 3237: 'drivin', 3238: 'blank', 3239: 'ashamed', 3240: 'sneak', 3241: 'wanting', 3242: 'joseph', 3243: 'built', 3244: 'interests', 3245: 'joint', 3246: 'opportunity', 3247: 'onto', 3248: 'oughta', 3249: 'pearl', 3250: 'gather', 3251: 'hid', 3252: 'screaming', 3253: 'turning', 3254: 'library', 3255: 'investigation', 3256: 'fathers', 3257: 'impeach', 3258: 'regular', 3259: 'wound', 3260: 'someones', 3261: 'remembered', 3262: 'lake', 3263: 'fleet', 3264: 'sentence', 3265: 'francis', 3266: 'cookies', 3267: 'promotion', 3268: 'turns', 3269: 'pirate', 3270: 'appears', 3271: 'basketball', 3272: 'covers', 3273: 'pudding', 3274: 'bothers', 3275: 'fortune', 3276: 'mentioned', 3277: 'fighter', 3278: 'garden', 3279: 'husbands', 3280: 'dirt', 3281: 'scene', 3282: 'influence', 3283: 'cocksucker', 3284: 'jacqueline', 3285: 'understanding', 3286: 'rumors', 3287: 'held', 3288: 'notes', 3289: 'hairs', 3290: 'tramp', 3291: 'sandwich', 3292: 'smoked', 3293: 'enterprise', 3294: 'dealing', 3295: 'leonard', 3296: 'theater', 3297: 'windows', 3298: 'member', 3299: 'oregon', 3300: 'filthy', 3301: 'clue', 3302: 'downtown', 3303: 'sounded', 3304: 'cab', 3305: 'nuns', 3306: 'discount', 3307: 'embassy', 3308: 'shopping', 3309: 'museum', 3310: 'knox', 3311: 'became', 3312: 'gardiner', 3313: 'lebowski', 3314: 'guards', 3315: 'lawson', 3316: 'lampert', 3317: 'offices', 3318: 'ext', 3319: 'int', 3320: 'tryin', 3321: 'helicopter', 3322: 'caitlin', 3323: 'butter', 3324: 'sayin', 3325: 'youre', 3326: '_', 3327: 'mckenna', 3328: 'rico', 3330: '<EOS>', 3331: '<OUT>', 3332: '<SOS>', 3329: 'cameron'
}

# Create the vocabulary by reversing the inverse vocabulary
vocabulary = {word: index for index, word in inverse_vocab.items()}

# Function to clean input text
def clean_text(text):
    text = text.lower()
    text = re.sub(r"i'm", "i am", text)
    text = re.sub(r"he's", "he is", text)
    text = re.sub(r"she's", "she is", text)
    text = re.sub(r"that's", "that is", text)
    text = re.sub(r"what's", "what is", text)
    text = re.sub(r"where's", "where is", text)
    text = re.sub(r"\'ll", " will", text)
    text = re.sub(r"\'ve", " have", text)
    text = re.sub(r"\'re", " are", text)
    text = re.sub(r"\'d", " would", text)
    text = re.sub(r"won't", "will not", text)
    text = re.sub(r"can't", "can not", text)
    text = re.sub(r"couldn't", "could not", text)
    text = re.sub(r"shouldn't", "should not", text)
    text = re.sub(r"wouldn't", "would not", text)
    text = re.sub(r"[^\w\s]", "", text)  # Remove punctuation
    return text

# Function to generate a response from the chatbot
def generate_response(user_input):
    user_input_cleaned = clean_text(user_input)

    # Convert user input to sequences using the vocabulary
    user_input_sequence = [[vocabulary.get(word, vocabulary['<OUT>']) for word in user_input_cleaned.split()]]
    user_input_sequence = pad_sequences(user_input_sequence, 15, padding='post')

    # Start with <SOS> token
    initial_decoder_input = np.zeros((1, 1))
    initial_decoder_input[0, 0] = vocabulary['<SOS>']

    decoded_response = ''
    stop_condition = False

    # Start decoding response from the chatbot model
    while not stop_condition:
        # Predict the next word in the sequence
        decoder_outputs = chatbot_model.predict([user_input_sequence, initial_decoder_input])
        sampled_word_index = np.argmax(decoder_outputs[0, -1, :])
        sampled_word = inverse_vocab.get(sampled_word_index, '<OUT>')

        if sampled_word != '<EOS>':
            decoded_response += ' ' + sampled_word

        if sampled_word == '<EOS>' or len(decoded_response.split()) > 15:
            stop_condition = True

        # Update decoder input with the predicted word
        initial_decoder_input = np.zeros((1, 1))
        initial_decoder_input[0, 0] = sampled_word_index

    return decoded_response.strip()

# Define the home route
@app.route('/')
def home():
    return render_template('index.html')

# Define the chat route to handle user input
@app.route('/chat', methods=['POST'])
def chat():
    user_input = request.form['user_input']
    response = generate_response(user_input)
    return jsonify({'response': response})

# Run the Flask app
if __name__ == '__main__':
    app.run(debug=True)




